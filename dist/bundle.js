(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(void 0,o=function(e,r){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!==t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i.key),"symbol"===t(o)?o:String(o)),i)}var o}var r=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.length=e,this.name=r,this.hits=0,this.sunk=!1,this.coordinates=null}var r,n;return r=t,(n=[{key:"hit",value:function(){this.hits++,this.hits>=this.length&&(this.sunk=!0)}},{key:"isSunk",value:function(){return this.sunk}}])&&e(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}();function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i.key),"symbol"===n(o)?o:String(o)),i)}var o}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.board=Array(10).fill(null).map((function(){return Array(10).fill(null)})),this.missedAttacks=[],this.ships=[]}var e,r;return e=t,(r=[{key:"placeShip",value:function(t,e,r,n){if(!this.isValidPosition(t,e,r,n))throw new Error("Posici칩n no v치lida para colocar el barco.");for(var i=0;i<t.length;i++)n?this.board[e+i][r]=t:this.board[e][r+i]=t;this.ships.push(t)}},{key:"isValidPosition",value:function(t,e,r,n){if(n){if(e+t.length>10)return!1}else if(r+t.length>10)return!1;for(var i=0;i<t.length;i++)if(n){if(this.board[e+i][r])return!1}else if(this.board[e][r+i])return!1;return!0}},{key:"receiveAttack",value:function(t,e){if(null===this.board[t][e])this.missedAttacks.push({x:t,y:e});else{if("hit"===this.board[t][e])return;var r=this.board[t][e];r.hit(),this.board[t][e]="hit",r.isSunk()}}},{key:"allShipsSunk",value:function(){return this.board.flat().every((function(t){return null===t||"hit"===t}))}},{key:"isOccupied",value:function(t,e){return null!==this.board[t][e]}}])&&i(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===a(i)?i:String(i)),n)}var i}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.previousAttacks=[]}var e,r;return e=t,(r=[{key:"attack",value:function(t,e,r){this.previousAttacks.some((function(t){return t.x===e&&t.y===r}))||(t.receiveAttack(e,r),this.previousAttacks.push({x:e,y:r}))}},{key:"randomAttack",value:function(t){var e,r;do{e=Math.floor(10*Math.random()),r=Math.floor(10*Math.random())}while(this.previousAttacks.some((function(t){return t.x===e&&t.y===r})));this.attack(t,e,r)}},{key:"placeShips",value:function(t,e,r){var n=0,i=!0;document.getElementById("orientationButton").addEventListener("click",(function(){i=!i})),r.addEventListener("click",(function(r){if(r.target.classList.contains("cell")&&n<e.length){var o=parseInt(r.target.dataset.x),a=parseInt(r.target.dataset.y);!function(e,r,n,i){if(i){if(r+e.length>10)return!1}else if(n+e.length>10)return!1;for(var o=0;o<e.length;o++)if(i){if(t.isOccupied(r+o,n))return!1}else if(t.isOccupied(r,n+o))return!1;return!0}(e[n],o,a,i)?alert("Posici칩n no v치lida. Intenta de nuevo."):(t.placeShip(e[n],o,a,i),n++)}}))}},{key:"placeShipsRandomly",value:function(t,e){var r=this;e.forEach((function(e){var n,i,o;do{n=Math.floor(10*Math.random()),i=Math.floor(10*Math.random()),o=Math.random()<.5}while(!r._canPlace(e,n,i,o,t));t.placeShip(e,n,i,o)}))}},{key:"_canPlace",value:function(t,e,r,n,i){if(n){if(e+t.length>10)return!1}else if(r+t.length>10)return!1;for(var o=0;o<t.length;o++)if(n){if(i.isOccupied(e+o,r))return!1}else if(i.isOccupied(e,r+o))return!1;return!0}}])&&l(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();new r(5,"carrier"),new r(4,"battleship"),new r(3,"cruiser"),new r(3,"submarine"),new r(2,"boat");new u("Human"),new u("Computer");var c=new o,s=new o;document.addEventListener("DOMContentLoaded",(function(){document.getElementById("startGameButton").addEventListener("click",(function(){return function(t,e,n,i){var o,a,l,u;!function(t,e){var r=document.querySelector("#human-board .grid"),n=document.querySelector("#computer-board .grid");r.innerHTML="",n.innerHTML="";for(var i=0;i<10;i++)for(var o=0;o<10;o++){var a=document.createElement("div");a.classList.add("cell"),a.dataset.x=i,a.dataset.y=o,r.appendChild(a)}for(var l=0;l<10;l++)for(var u=0;u<10;u++){var c=document.createElement("div");c.classList.add("cell"),c.dataset.x=l,c.dataset.y=u,n.appendChild(c)}}(),o=n,a=document.querySelector("#human-board .grid"),l=[new r(5,"carrier"),new r(4,"battleship"),new r(3,"cruiser"),new r(3,"submarine"),new r(2,"boat")],u=0,a.addEventListener("mouseover",(function(t){if(t.target.classList.contains("cell")){var e=parseInt(t.target.dataset.x),r=parseInt(t.target.dataset.y),n=l[u];if(document.querySelectorAll(".cell-preview").forEach((function(t){return t.classList.remove("cell-preview")})),o.isValidPosition(n,e,r))for(var i=0;i<n.length;i++){var c=a.querySelector('[data-x="'.concat(e+i,'"][data-y="').concat(r,'"]'));c&&c.classList.add("cell-preview")}}})),a.addEventListener("mouseout",(function(t){t.target.classList.contains("cell")&&document.querySelectorAll(".cell-preview").forEach((function(t){return t.classList.remove("cell-preview")}))})),a.addEventListener("click",(function(t){if(t.target.classList.contains("cell")){var e=parseInt(t.target.dataset.x),r=parseInt(t.target.dataset.y),n=l[u];try{o.placeShip(n,e,r),u++}catch(t){alert(t.message)}}})),function(t,e){[].forEach((function(t){var r,n,i;do{r=Math.floor(10*Math.random()),n=Math.floor(10*Math.random()),i=Math.random()<.5}while(!e.isValidPosition(t,r,n,i));e.placeShip(t,r,n,i)}))}(0,i);var c=document.getElementById("gameContainer"),s=document.getElementById("startGameButton");c.style.display="flex",s.style.display="none"}(0,0,c,s)}))}))})();
//# sourceMappingURL=bundle.js.map